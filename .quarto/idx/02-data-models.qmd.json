{"title":"Форматы пространственных данных","markdown":{"yaml":{"title":"Форматы пространственных данных","subtitle":"Геоинформатика и геоинформационные системы. Лекция 2","author":"Балтыжакова Татьяна Игоревна","format":{"revealjs":{"slide-number":true,"theme":["default","custom.css"],"footer":"Балтыжакова Т.И. Геоинформатика и геоинформационные системы: лекции","margin":0.1,"reference-location":"document","width":1800,"height":1000}}},"headingText":"Что такое эти самые пространственные данные?","containsRefs":false,"markdown":"\n\n\nФактически любые данные, которые содержат сведения о местоположении объекта.\n\nНо, если говорить формально\n\n. . .\n\n**пространственные данные** (spatial data): *Данные о пространственных объектах, включающие сведения об их форме, местоположении и свойствах, в том числе представленные с использованием координат.*[^1]\n\n[^1]: ГОСТ Р 57657-2017 (ИСО 19131:2007) Пространственные данные. Спецификация информационного продукта\n\n------------------------------------------------------------------------\n\n::::: columns\n::: {.column width=\"50%\"}\n**пространственный объект** (feature): Цифровая модель материального или абстрактного объекта реального или виртуального мира с указанием его идентификатора, координатных и атрибутивных данных.\n\n**атрибут пространственного объекта** (feature attribute): Характеристика пространственного объекта.\n:::\n\n::: {.column width=\"50%\"}\n![](images/clipboard-531483221.png)\n:::\n:::::\n\n# Дискретные и непрерывные данные\n\n::::: columns\n::: {.column width=\"45%\"}\n***Дискретные пространственные объекты имеют четко определенные границы.***\n\nНапример, административные границы, здания, точки притяжения, земельные участки.\n:::\n\n::: {.column width=\"45%\"}\n***Непрерывные данные представляют собой поверхность (или поле), в каждой точке которой известно значение параметра и не имеющая четких границ.***\n\nНапример, рельеф, значение гравитационного поля\n:::\n:::::\n\nЭто и определяет два основных типа пространственных данных - векторные и растровые.\n\n------------------------------------------------------------------------\n\n![](images/clipboard-659462666.png){fig-align=\"center\"}\n\n------------------------------------------------------------------------\n\n![Источник: https://rsgislearn.blogspot.com/2007/05/vector-data-vs-raster-data.html](images/clipboard-1959405377.png){fig-align=\"center\"}\n\n# Растровые данные\n\n![](images/clipboard-202558759.png){fig-align=\"center\"}\n\nИнформация в растровых данных содержится в пикселях - от английского *picture element* или *pix element*. Одним из ранних названий было `pel` (им в основном пользовались в **Bell labs - Лабораториях Белла**).\n\n------------------------------------------------------------------------\n\n## Факт\n\nПервый ГИС использовали только растровые данные, так как на тот момент это был единственный способ отображения чего-либо на экране. Векторные специализированные форматы появились только в 80-х годах.\n\n::: callout-important\nТочность растровых данных ограничена их разрешением, то есть размером пикселя: чем меньше пиксель, тем более качественным будет изображение. При этом с уменьшением размера пикселя возрастает размер файла, в среднем размер файла будет возрастать в геометрической прогрессии (то есть при уменьшении пикселя в 2 раза, размер файла возрастет примерно в 4 раза).\n\nНо здесь, как правило, стараются найти компромисс между качеством данных и размером файла.\n:::\n\n# GeoTIFF\n\n[**GeoTIFF**](https://ru.wikipedia.org/wiki/GeoTIFF) - открытый формат представления растровых данных в формате TIFF совместно с метаданными о географической привязке (геореференцированный растр).\n\nИспользует спецификации TIFF 6.0, в которую добавляет несколько видов геотегов, которые определяют вид картографической проекции, систему географических координат, модель геоида, датум и любую другую информацию, необходимую для точного пространственного ориентирования изображения.[^2]\n\n[^2]: Описание стандарта OCG GeoTIFF <https://www.ogc.org/standards/geotiff/>\n\nПриложения, поддерживающие только формат TIFF 6.0, но не GeoTIFF, могут открывать изображения, получая базовый растр без метаинформации.\n\n------------------------------------------------------------------------\n\nВ тегах GeoTIFF может задаваться:\n\n-   Вид картографической проекции или систему географических координат\n\n-   Параметры (датум) земного геоида\n\n-   Дискреты разрешения изображения\n\n-   Матрицу полиномиального, сплайнового или аффинного преобразования\n\n-   Характерные параметры изображения\n\n# Web map service (WMS)\n\n**WMS (Web map service)** - это протокол получения через Интернет географически привязанных изображений, которые генерируются картографическим сервером на основе базы данных.[^3]\n\n[^3]: Описание стандарта и спецификация протокола <https://www.ogc.org/standards/wms/>\n\n![Источник: https://community.digitalparos.com/d/11-digitalparos-development-updates-2](images/clipboard-200864657.png){fig-align=\"center\" width=\"1132\"}\n\n# Векторные данные\n\nВ векторных данных для задания местоположения используются координаты объектов и математические формулы для задания формы.\n\nСпециализированные форматы, предназначеннные для ГИС, разработаны так, чтобы они могли ***совмещать в себе сразу и геометрию, и атрибутивные данные (непространственные характеристики)***.\n\n------------------------------------------------------------------------\n\nГлавная особенность векторных форматов данных, используемых в ГИС в том, что они позволяют не только определять местоположение и геометрию обьектов, но и также их описательные непространственные характеристики (то, что, как правило, называют атрибутивными данными). Кроме того, большинство из этих форматов поддерживают работу с различными картографическими проекциями и системами координат.\n\nНапример, системы автоматизированного проектирования (AutoCAD, NanoCAD и подобные им) также могут работать с геометрическими характеристиками объектов и их местоположением, но работа в них осуществляется только в плоской прямоугольной системе координат, а возможность работы с атрибутивными данными отсутствует.\n\n# Shapefile\n\n![](images/clipboard-1672673853.png){fig-align=\"center\" width=\"641\"}\n\nНаиболее часто используемым форматом векторных данных в ГИС является **shapefile**[^4]. Этот проприетарный формат данных от компании ESRI, который был разработан ими в 90-х годах прошлого века. Это был первый формат векторых данных, созданный специально для работы в ГИС.\n\n[^4]: ESRI Shapefile Technical Description --- Электрон. дан. --- <https://www.esri.com/content/dam/esrisites/sitecore-archive/Files/Pdfs/library/whitepapers/pdfs/shapefile.pdf>\n\n------------------------------------------------------------------------\n\nПри использовании этого формата данные хранятся в нескольких файлах с разными расширениями, обязательными из которых являются:\n\n\\- **.shp** - геометрия объектов;\n\n\\- **.shx** - файл индексов необходим для ускорения расчетов и связи геометрии и атрибутов;\n\n\\- **.dbf** - таблица атрибутов:\n\n\\- **.prj** - сведения о проекции и системе координат.\n\n::: callout-caution\nКак минимум для корректной работы необходимы первые три файла. Файл .prj формально не является обязательным, но без него ГИС не сможет определить, какая система координат используется.\n:::\n\n------------------------------------------------------------------------\n\n![](images/clipboard-3571769684.png){fig-align=\"center\" width=\"666\"}\n\n------------------------------------------------------------------------\n\nНедостатки работы с shape файлами[^5]:\n\n[^5]: Switch from Shapefile <http://switchfromshapefile.org/>\n\n-   в файле не задается система координат;\n\n-   состоит из нескольких файлов;\n\n-   названия атрибутов должны быть не длинее 10 букв;\n\n-   всего можно добавить не более 255 атрибутов;\n\n-   ограниченное количество типов данных в атрибутах;\n\n-   файл должен быть не более 2 Гигабайт;\n\n-   не описываются топологические отношения объектов;\n\n-   в файле могут быть только объекты с одним типом геометрии;\n\n-   и прочие.\n\nВот здесь еще можно посмотреть презентацию про shape файлы и их альтернативы <https://www.slideshare.net/jachym/switch-from-shapefile>\n\n# GeoPackage\n\n**GeoPackage**[^6] - это *контейнер SQLite*, а стандарт кодирования GeoPackage определяет правила и требования к контенту, хранящемуся в контейнере.\n\n[^6]: Getting Started With GeoPackage --- Электрон. дан. --- <http://www.geopackage.org/guidance/getting-started.html>\n\n![](images/clipboard-625967847.png){fig-align=\"center\" width=\"422\"}\n\n------------------------------------------------------------------------\n\nСтандарт GeoPackage определяет схему, включая определения таблиц, утверждения целостности, ограничения формата и ограничения содержимого. Требуемый и поддерживаемый контент GeoPackage полностью определен в стандарте. Эти возможности построены на общей основе, и механизм расширения предоставляет разработчикам возможность включить дополнительные функции в свои GeoPackages.\n\nСтандарт кодирования GeoPackage описывает набор соглашений для хранения следующего в базе данных SQLite:\n\n-   векторные объекты;\n\n-   наборы тайловых матриц изображений и растровых карт в различных масштабах;\n\n-   атрибуты (непространственные данные);\n\n-   дополнения.\n\n# GeoJSON\n\n**GeoJSON** - формат представления различных структур географических данных, основанный на [JavaScript object notation (JSON)](https://ru.wikipedia.org/wiki/JSON).\n\nВ GeoJSON объект состоит из набора пар *ключ/значение*, также называемых свойствами. Имя каждого свойства -- строка. Значение свойства может представлять собой строку, число, объект, массив или один из литералов: «true», «false» и «null». Массив состоит из элементов, где каждый элемент может принимать одно из значений, описанных выше.\n\n------------------------------------------------------------------------\n\nПример GeoJSON:\n\n```         \n{\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [125.6, 10.1]\n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n```\n\n------------------------------------------------------------------------\n\nФормат поддерживает следующие типы объектов `Point`, `LineString`, `Polygon`, `MultiPoint`, `MultiLineString`, and `MultiPolygon`.\n\nГеометрические объекты с атрибутивными характеристиками составляют `Feature` объекты. Наборы объектов хранятся как `FeatureCollection` объекты[^7]. Полное описание формата представлено [здесь](https://datatracker.ietf.org/doc/html/rfc7946).\n\n[^7]: <https://geojson.org/>\n\nДля проверки и валидации geojson файлов можно пользоваться сервисом [geojson.io](https://geojson.io/)\n\nСуществует еще дополненная версия **topojson**, в котором учитываются топологические отношения между объектами. В этом формате вместо того, чтобы представлять геометрию дискретно, геометрия в файлах TopoJSON сшивается из общих линейных сегментов, называемых *дугами*[^8].\n\n[^8]: <https://github.com/topojson/topojson>\n\n# WKT\n\n**WKT (Well-known text)** — текстовый формат представления векторной геометрии и описания систем координат[^9].\n\n[^9]: <https://ru.wikipedia.org/wiki/WKT>\n\n::: callout-important\nЭтот формат может использоваться как для описания геометрии объектов, так и для задания параметров систем координат (об этом мы поговорим в более поздних темах).\n:::\n\n------------------------------------------------------------------------\n\nWKT может представлять следующие геометрические объекты:\n\n-   Point, MultiPoint\n\n-   LineString, MultiLineString\n\n-   Polygon, MultiPolygon\n\n-   CircularString\n\n-   Curve, MultiCurve, CompoundCurve\n\n-   CurvePolygon\n\n-   Surface, MultiSurface\n\n-   TIN ([Triangulated irregular network](https://ru.wikipedia.org/w/index.php?title=Triangulated_irregular_network&action=edit&redlink=1 \"Triangulated irregular network (страница отсутствует)\"))\n\n-   GeometryCollection\n\n------------------------------------------------------------------------\n\n![](images/clipboard-368845347.png){fig-align=\"center\"}\n\n# KML\n\n**KML** - это формат файлов, который используется для отображения географических данных в геобраузерах, таких как Google Планета Земля, Google Карты и Google Карты для мобильных устройств. KML создан на основе стандарта XML и использует основанную на тегах структуру с вложенными элементами и атрибутами[^10].\n\n[^10]: О формате KML <https://cartetika.ru/tpost/jl4hk9a1r1-o-formate-kml>\n\n. . .\n\n*Заголовок XML*: с него начинается каждый KML-файл. Перед заголовком не должно быть никаких символов или пробелов.\n\n*Декларация пространства имен KML*: вторая строка каждого файла формата KML 2.2.\n\n*Объект Placemark*, содержащий следующие элементы: name - имя, которое используется в качестве ярлыка метки;\n\n*description* - описание, которое отображается во всплывающем окне, привязанном к метке;\n\n*Point* - координаты, определяющие положение метки на земной поверхности (долгота и широта, иногда также высота).\n\n------------------------------------------------------------------------\n\n```         \nKML-код простой метки. \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n      <kml xmlns=\"http://www.opengis.net/kml/2.2\"> <Placemark>\n      <name>Простая метка</name>\n      description>Привязана к земной поверхности. Приспосабливается к рельефу местности.</description>\n      <Point>\n      <coordinates>-122.0822035425683,37.42228990140251,0</coordinates>\n      </Point>\n      </Placemark> </kml>\n```\n\n# GPX\n\n[**GPX**](https://ru.wikipedia.org/wiki/GPX) **(англ. GPS eXchange Format)** - свободный текстовый формат хранения и обмена данными GPS, основанный на XML.\n\nФормат позволяет хранить информацию об *ориентирах (waypoints), маршрутах (routes) и треках (tracklogs)*.\n\n. . .\n\nДля каждой точки хранятся её ***долгота, широта и высота над уровнем моря*** (если имеется информация о высоте). Для точек трека хранится также время прохождения точки.\n\n------------------------------------------------------------------------\n\nXML-схема предусматривает также хранение *произвольной пользовательской информации* по каждой точке, обязательными являются только долгота и широта.\n\n. . .\n\nШирота и долгота в GPX указывается в градусах в общегеографической системе координат.\n\nВысота указывается в метрах над уровнем моря.\n\nПримером пользовательской информации может быть *высота местности (ele), скорость, частота пульса (hr), число шагов, темп вращения педалей (каденс, cad)*, температура и им подобные параметры.\n\n------------------------------------------------------------------------\n\n```         \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<gpx version=\"1.0\">\n    <name>Example gpx</name>\n    <wpt lat=\"46.57638889\" lon=\"8.89263889\">\n        <ele>2372</ele>\n        <name>LAGORETICO</name>\n    </wpt>\n    <trk><name>Example gpx</name><number>1</number><trkseg>\n        <trkpt lat=\"46.57608333\" lon=\"8.89241667\"><ele>2376</ele><time>2007-10-14T10:09:57Z</time></trkpt>\n        <trkpt lat=\"46.57619444\" lon=\"8.89252778\"><ele>2375</ele><time>2007-10-14T10:10:52Z</time></trkpt>\n        <trkpt lat=\"46.57641667\" lon=\"8.89266667\"><ele>2372</ele><time>2007-10-14T10:12:39Z</time></trkpt>\n        <trkpt lat=\"46.57650000\" lon=\"8.89280556\"><ele>2373</ele><time>2007-10-14T10:13:12Z</time></trkpt>\n        <trkpt lat=\"46.57638889\" lon=\"8.89302778\"><ele>2374</ele><time>2007-10-14T10:13:20Z</time></trkpt>\n        <trkpt lat=\"46.57652778\" lon=\"8.89322222\"><ele>2375</ele><time>2007-10-14T10:13:48Z</time></trkpt>\n        <trkpt lat=\"46.57661111\" lon=\"8.89344444\"><ele>2376</ele><time>2007-10-14T10:14:08Z</time></trkpt>\n    </trkseg></trk>\n</gpx>\n```\n\n------------------------------------------------------------------------\n\n## Web feature service (WFS) и векторные тайлы\n\n**Web Feature Service (WFS)** — стандарт, который позволяет возвращать векторные геометрии и их атрибуты.\n\n> В отличие от растровых тайлов, векторные представляют собой не изображения, а двоичные файлы в формате PBF (protobuf, бинарная альтернатива XML; хотя более современные стандарты поддерживают формат JSON). Они содержат всю необходимую информацию для генерации карты на стороне клиента. В стиле карты также указывается, следует ли вообще отображать элемент веб-карты, и какой шрифт и язык использовать для надписей[^11].\n\n[^11]: **Разница между векторными и растровыми тайлами в веб-картах** <https://cartetika.ru/tpost/2tecy4r8f1-raznitsa-mezhdu-vektornimi-i-rastrovimi>\n\nКак правило, векторные тайлы менее ресурсоемки, чем растровые, так как передаваемые файлы меньше. На их загрузку нужно меньше времени, достаточно меньшей пропускной способности.\n\nКроме того, как и любой векторный формат представления данных они предполагают лучшее качество, чем растры, при меньшем размере файлов.\n\n------------------------------------------------------------------------\n\n![Источник: https://www.esri.com/arcgis-blog/products/developers/developers/arcgis-hosted-services-explained-feature-vector-map-tiles-services](images/clipboard-2787109949.png){fig-align=\"center\"}\n","srcMarkdownNoYaml":"\n\n# Что такое эти самые пространственные данные?\n\nФактически любые данные, которые содержат сведения о местоположении объекта.\n\nНо, если говорить формально\n\n. . .\n\n**пространственные данные** (spatial data): *Данные о пространственных объектах, включающие сведения об их форме, местоположении и свойствах, в том числе представленные с использованием координат.*[^1]\n\n[^1]: ГОСТ Р 57657-2017 (ИСО 19131:2007) Пространственные данные. Спецификация информационного продукта\n\n------------------------------------------------------------------------\n\n::::: columns\n::: {.column width=\"50%\"}\n**пространственный объект** (feature): Цифровая модель материального или абстрактного объекта реального или виртуального мира с указанием его идентификатора, координатных и атрибутивных данных.\n\n**атрибут пространственного объекта** (feature attribute): Характеристика пространственного объекта.\n:::\n\n::: {.column width=\"50%\"}\n![](images/clipboard-531483221.png)\n:::\n:::::\n\n# Дискретные и непрерывные данные\n\n::::: columns\n::: {.column width=\"45%\"}\n***Дискретные пространственные объекты имеют четко определенные границы.***\n\nНапример, административные границы, здания, точки притяжения, земельные участки.\n:::\n\n::: {.column width=\"45%\"}\n***Непрерывные данные представляют собой поверхность (или поле), в каждой точке которой известно значение параметра и не имеющая четких границ.***\n\nНапример, рельеф, значение гравитационного поля\n:::\n:::::\n\nЭто и определяет два основных типа пространственных данных - векторные и растровые.\n\n------------------------------------------------------------------------\n\n![](images/clipboard-659462666.png){fig-align=\"center\"}\n\n------------------------------------------------------------------------\n\n![Источник: https://rsgislearn.blogspot.com/2007/05/vector-data-vs-raster-data.html](images/clipboard-1959405377.png){fig-align=\"center\"}\n\n# Растровые данные\n\n![](images/clipboard-202558759.png){fig-align=\"center\"}\n\nИнформация в растровых данных содержится в пикселях - от английского *picture element* или *pix element*. Одним из ранних названий было `pel` (им в основном пользовались в **Bell labs - Лабораториях Белла**).\n\n------------------------------------------------------------------------\n\n## Факт\n\nПервый ГИС использовали только растровые данные, так как на тот момент это был единственный способ отображения чего-либо на экране. Векторные специализированные форматы появились только в 80-х годах.\n\n::: callout-important\nТочность растровых данных ограничена их разрешением, то есть размером пикселя: чем меньше пиксель, тем более качественным будет изображение. При этом с уменьшением размера пикселя возрастает размер файла, в среднем размер файла будет возрастать в геометрической прогрессии (то есть при уменьшении пикселя в 2 раза, размер файла возрастет примерно в 4 раза).\n\nНо здесь, как правило, стараются найти компромисс между качеством данных и размером файла.\n:::\n\n# GeoTIFF\n\n[**GeoTIFF**](https://ru.wikipedia.org/wiki/GeoTIFF) - открытый формат представления растровых данных в формате TIFF совместно с метаданными о географической привязке (геореференцированный растр).\n\nИспользует спецификации TIFF 6.0, в которую добавляет несколько видов геотегов, которые определяют вид картографической проекции, систему географических координат, модель геоида, датум и любую другую информацию, необходимую для точного пространственного ориентирования изображения.[^2]\n\n[^2]: Описание стандарта OCG GeoTIFF <https://www.ogc.org/standards/geotiff/>\n\nПриложения, поддерживающие только формат TIFF 6.0, но не GeoTIFF, могут открывать изображения, получая базовый растр без метаинформации.\n\n------------------------------------------------------------------------\n\nВ тегах GeoTIFF может задаваться:\n\n-   Вид картографической проекции или систему географических координат\n\n-   Параметры (датум) земного геоида\n\n-   Дискреты разрешения изображения\n\n-   Матрицу полиномиального, сплайнового или аффинного преобразования\n\n-   Характерные параметры изображения\n\n# Web map service (WMS)\n\n**WMS (Web map service)** - это протокол получения через Интернет географически привязанных изображений, которые генерируются картографическим сервером на основе базы данных.[^3]\n\n[^3]: Описание стандарта и спецификация протокола <https://www.ogc.org/standards/wms/>\n\n![Источник: https://community.digitalparos.com/d/11-digitalparos-development-updates-2](images/clipboard-200864657.png){fig-align=\"center\" width=\"1132\"}\n\n# Векторные данные\n\nВ векторных данных для задания местоположения используются координаты объектов и математические формулы для задания формы.\n\nСпециализированные форматы, предназначеннные для ГИС, разработаны так, чтобы они могли ***совмещать в себе сразу и геометрию, и атрибутивные данные (непространственные характеристики)***.\n\n------------------------------------------------------------------------\n\nГлавная особенность векторных форматов данных, используемых в ГИС в том, что они позволяют не только определять местоположение и геометрию обьектов, но и также их описательные непространственные характеристики (то, что, как правило, называют атрибутивными данными). Кроме того, большинство из этих форматов поддерживают работу с различными картографическими проекциями и системами координат.\n\nНапример, системы автоматизированного проектирования (AutoCAD, NanoCAD и подобные им) также могут работать с геометрическими характеристиками объектов и их местоположением, но работа в них осуществляется только в плоской прямоугольной системе координат, а возможность работы с атрибутивными данными отсутствует.\n\n# Shapefile\n\n![](images/clipboard-1672673853.png){fig-align=\"center\" width=\"641\"}\n\nНаиболее часто используемым форматом векторных данных в ГИС является **shapefile**[^4]. Этот проприетарный формат данных от компании ESRI, который был разработан ими в 90-х годах прошлого века. Это был первый формат векторых данных, созданный специально для работы в ГИС.\n\n[^4]: ESRI Shapefile Technical Description --- Электрон. дан. --- <https://www.esri.com/content/dam/esrisites/sitecore-archive/Files/Pdfs/library/whitepapers/pdfs/shapefile.pdf>\n\n------------------------------------------------------------------------\n\nПри использовании этого формата данные хранятся в нескольких файлах с разными расширениями, обязательными из которых являются:\n\n\\- **.shp** - геометрия объектов;\n\n\\- **.shx** - файл индексов необходим для ускорения расчетов и связи геометрии и атрибутов;\n\n\\- **.dbf** - таблица атрибутов:\n\n\\- **.prj** - сведения о проекции и системе координат.\n\n::: callout-caution\nКак минимум для корректной работы необходимы первые три файла. Файл .prj формально не является обязательным, но без него ГИС не сможет определить, какая система координат используется.\n:::\n\n------------------------------------------------------------------------\n\n![](images/clipboard-3571769684.png){fig-align=\"center\" width=\"666\"}\n\n------------------------------------------------------------------------\n\nНедостатки работы с shape файлами[^5]:\n\n[^5]: Switch from Shapefile <http://switchfromshapefile.org/>\n\n-   в файле не задается система координат;\n\n-   состоит из нескольких файлов;\n\n-   названия атрибутов должны быть не длинее 10 букв;\n\n-   всего можно добавить не более 255 атрибутов;\n\n-   ограниченное количество типов данных в атрибутах;\n\n-   файл должен быть не более 2 Гигабайт;\n\n-   не описываются топологические отношения объектов;\n\n-   в файле могут быть только объекты с одним типом геометрии;\n\n-   и прочие.\n\nВот здесь еще можно посмотреть презентацию про shape файлы и их альтернативы <https://www.slideshare.net/jachym/switch-from-shapefile>\n\n# GeoPackage\n\n**GeoPackage**[^6] - это *контейнер SQLite*, а стандарт кодирования GeoPackage определяет правила и требования к контенту, хранящемуся в контейнере.\n\n[^6]: Getting Started With GeoPackage --- Электрон. дан. --- <http://www.geopackage.org/guidance/getting-started.html>\n\n![](images/clipboard-625967847.png){fig-align=\"center\" width=\"422\"}\n\n------------------------------------------------------------------------\n\nСтандарт GeoPackage определяет схему, включая определения таблиц, утверждения целостности, ограничения формата и ограничения содержимого. Требуемый и поддерживаемый контент GeoPackage полностью определен в стандарте. Эти возможности построены на общей основе, и механизм расширения предоставляет разработчикам возможность включить дополнительные функции в свои GeoPackages.\n\nСтандарт кодирования GeoPackage описывает набор соглашений для хранения следующего в базе данных SQLite:\n\n-   векторные объекты;\n\n-   наборы тайловых матриц изображений и растровых карт в различных масштабах;\n\n-   атрибуты (непространственные данные);\n\n-   дополнения.\n\n# GeoJSON\n\n**GeoJSON** - формат представления различных структур географических данных, основанный на [JavaScript object notation (JSON)](https://ru.wikipedia.org/wiki/JSON).\n\nВ GeoJSON объект состоит из набора пар *ключ/значение*, также называемых свойствами. Имя каждого свойства -- строка. Значение свойства может представлять собой строку, число, объект, массив или один из литералов: «true», «false» и «null». Массив состоит из элементов, где каждый элемент может принимать одно из значений, описанных выше.\n\n------------------------------------------------------------------------\n\nПример GeoJSON:\n\n```         \n{\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [125.6, 10.1]\n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n```\n\n------------------------------------------------------------------------\n\nФормат поддерживает следующие типы объектов `Point`, `LineString`, `Polygon`, `MultiPoint`, `MultiLineString`, and `MultiPolygon`.\n\nГеометрические объекты с атрибутивными характеристиками составляют `Feature` объекты. Наборы объектов хранятся как `FeatureCollection` объекты[^7]. Полное описание формата представлено [здесь](https://datatracker.ietf.org/doc/html/rfc7946).\n\n[^7]: <https://geojson.org/>\n\nДля проверки и валидации geojson файлов можно пользоваться сервисом [geojson.io](https://geojson.io/)\n\nСуществует еще дополненная версия **topojson**, в котором учитываются топологические отношения между объектами. В этом формате вместо того, чтобы представлять геометрию дискретно, геометрия в файлах TopoJSON сшивается из общих линейных сегментов, называемых *дугами*[^8].\n\n[^8]: <https://github.com/topojson/topojson>\n\n# WKT\n\n**WKT (Well-known text)** — текстовый формат представления векторной геометрии и описания систем координат[^9].\n\n[^9]: <https://ru.wikipedia.org/wiki/WKT>\n\n::: callout-important\nЭтот формат может использоваться как для описания геометрии объектов, так и для задания параметров систем координат (об этом мы поговорим в более поздних темах).\n:::\n\n------------------------------------------------------------------------\n\nWKT может представлять следующие геометрические объекты:\n\n-   Point, MultiPoint\n\n-   LineString, MultiLineString\n\n-   Polygon, MultiPolygon\n\n-   CircularString\n\n-   Curve, MultiCurve, CompoundCurve\n\n-   CurvePolygon\n\n-   Surface, MultiSurface\n\n-   TIN ([Triangulated irregular network](https://ru.wikipedia.org/w/index.php?title=Triangulated_irregular_network&action=edit&redlink=1 \"Triangulated irregular network (страница отсутствует)\"))\n\n-   GeometryCollection\n\n------------------------------------------------------------------------\n\n![](images/clipboard-368845347.png){fig-align=\"center\"}\n\n# KML\n\n**KML** - это формат файлов, который используется для отображения географических данных в геобраузерах, таких как Google Планета Земля, Google Карты и Google Карты для мобильных устройств. KML создан на основе стандарта XML и использует основанную на тегах структуру с вложенными элементами и атрибутами[^10].\n\n[^10]: О формате KML <https://cartetika.ru/tpost/jl4hk9a1r1-o-formate-kml>\n\n. . .\n\n*Заголовок XML*: с него начинается каждый KML-файл. Перед заголовком не должно быть никаких символов или пробелов.\n\n*Декларация пространства имен KML*: вторая строка каждого файла формата KML 2.2.\n\n*Объект Placemark*, содержащий следующие элементы: name - имя, которое используется в качестве ярлыка метки;\n\n*description* - описание, которое отображается во всплывающем окне, привязанном к метке;\n\n*Point* - координаты, определяющие положение метки на земной поверхности (долгота и широта, иногда также высота).\n\n------------------------------------------------------------------------\n\n```         \nKML-код простой метки. \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n      <kml xmlns=\"http://www.opengis.net/kml/2.2\"> <Placemark>\n      <name>Простая метка</name>\n      description>Привязана к земной поверхности. Приспосабливается к рельефу местности.</description>\n      <Point>\n      <coordinates>-122.0822035425683,37.42228990140251,0</coordinates>\n      </Point>\n      </Placemark> </kml>\n```\n\n# GPX\n\n[**GPX**](https://ru.wikipedia.org/wiki/GPX) **(англ. GPS eXchange Format)** - свободный текстовый формат хранения и обмена данными GPS, основанный на XML.\n\nФормат позволяет хранить информацию об *ориентирах (waypoints), маршрутах (routes) и треках (tracklogs)*.\n\n. . .\n\nДля каждой точки хранятся её ***долгота, широта и высота над уровнем моря*** (если имеется информация о высоте). Для точек трека хранится также время прохождения точки.\n\n------------------------------------------------------------------------\n\nXML-схема предусматривает также хранение *произвольной пользовательской информации* по каждой точке, обязательными являются только долгота и широта.\n\n. . .\n\nШирота и долгота в GPX указывается в градусах в общегеографической системе координат.\n\nВысота указывается в метрах над уровнем моря.\n\nПримером пользовательской информации может быть *высота местности (ele), скорость, частота пульса (hr), число шагов, темп вращения педалей (каденс, cad)*, температура и им подобные параметры.\n\n------------------------------------------------------------------------\n\n```         \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<gpx version=\"1.0\">\n    <name>Example gpx</name>\n    <wpt lat=\"46.57638889\" lon=\"8.89263889\">\n        <ele>2372</ele>\n        <name>LAGORETICO</name>\n    </wpt>\n    <trk><name>Example gpx</name><number>1</number><trkseg>\n        <trkpt lat=\"46.57608333\" lon=\"8.89241667\"><ele>2376</ele><time>2007-10-14T10:09:57Z</time></trkpt>\n        <trkpt lat=\"46.57619444\" lon=\"8.89252778\"><ele>2375</ele><time>2007-10-14T10:10:52Z</time></trkpt>\n        <trkpt lat=\"46.57641667\" lon=\"8.89266667\"><ele>2372</ele><time>2007-10-14T10:12:39Z</time></trkpt>\n        <trkpt lat=\"46.57650000\" lon=\"8.89280556\"><ele>2373</ele><time>2007-10-14T10:13:12Z</time></trkpt>\n        <trkpt lat=\"46.57638889\" lon=\"8.89302778\"><ele>2374</ele><time>2007-10-14T10:13:20Z</time></trkpt>\n        <trkpt lat=\"46.57652778\" lon=\"8.89322222\"><ele>2375</ele><time>2007-10-14T10:13:48Z</time></trkpt>\n        <trkpt lat=\"46.57661111\" lon=\"8.89344444\"><ele>2376</ele><time>2007-10-14T10:14:08Z</time></trkpt>\n    </trkseg></trk>\n</gpx>\n```\n\n------------------------------------------------------------------------\n\n## Web feature service (WFS) и векторные тайлы\n\n**Web Feature Service (WFS)** — стандарт, который позволяет возвращать векторные геометрии и их атрибуты.\n\n> В отличие от растровых тайлов, векторные представляют собой не изображения, а двоичные файлы в формате PBF (protobuf, бинарная альтернатива XML; хотя более современные стандарты поддерживают формат JSON). Они содержат всю необходимую информацию для генерации карты на стороне клиента. В стиле карты также указывается, следует ли вообще отображать элемент веб-карты, и какой шрифт и язык использовать для надписей[^11].\n\n[^11]: **Разница между векторными и растровыми тайлами в веб-картах** <https://cartetika.ru/tpost/2tecy4r8f1-raznitsa-mezhdu-vektornimi-i-rastrovimi>\n\nКак правило, векторные тайлы менее ресурсоемки, чем растровые, так как передаваемые файлы меньше. На их загрузку нужно меньше времени, достаточно меньшей пропускной способности.\n\nКроме того, как и любой векторный формат представления данных они предполагают лучшее качество, чем растры, при меньшем размере файлов.\n\n------------------------------------------------------------------------\n\n![Источник: https://www.esri.com/arcgis-blog/products/developers/developers/arcgis-hosted-services-explained-feature-vector-map-tiles-services](images/clipboard-2787109949.png){fig-align=\"center\"}\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","reference-location":"document","output-file":"02-data-models.html"},"language":{"toc-title-document":"Содержание","toc-title-website":"Содержание","related-formats-title":"Другие форматы","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Источник","other-links-title":"Другие ссылки","code-links-title":"Ссылки на код","launch-dev-container-title":"Запустить Dev Container","launch-binder-title":"Запустить Binder","article-notebook-label":"Блокнот статьи","notebook-preview-download":"Скачать блокнот","notebook-preview-download-src":"Скачать исходный код","notebook-preview-back":"Вернуться к статье","manuscript-meca-bundle":"Архив MECA","section-title-abstract":"Аннотация","section-title-appendices":"Приложения","section-title-footnotes":"Сноски","section-title-references":"использованная литература","section-title-reuse":"Повторное использование","section-title-copyright":"Авторские права","section-title-citation":"Цитата","appendix-attribution-cite-as":"Пожалуйста, цитируйте эту работу как:","appendix-attribution-bibtex":"BibTeX","appendix-view-license":"Просмотреть Лицензию","title-block-author-single":"АВТОР","title-block-author-plural":"Авторы","title-block-affiliation-single":"Организация","title-block-affiliation-plural":"Принадлежности","title-block-published":"Дата публикации","title-block-modified":"Файл изменен","title-block-keywords":"Ключевые слова","callout-tip-title":"Дополнительно","callout-note-title":"На заметку","callout-warning-title":"Внимание","callout-important-title":"Важное уведомление","callout-caution-title":"Предупреждение","code-summary":"Код","code-tools-menu-caption":"Код","code-tools-show-all-code":"Развернуть код","code-tools-hide-all-code":"Скрыть код","code-tools-view-source":"Показать код","code-tools-source-code":"Исходный код","tools-share":"Share","tools-download":"Download","code-line":"Линия","code-lines":"Линии","copy-button-tooltip":"Скопировать текст","copy-button-tooltip-success":"Скопировано","repo-action-links-edit":"Редактировать страницу","repo-action-links-source":"Показать код","repo-action-links-issue":"Сообщить о проблеме","back-to-top":"Наверх","search-no-results-text":"Поиск не дал результатов","search-matching-documents-text":"Результаты поиска","search-copy-link-title":"Скопировать ссылку","search-hide-matches-text":"Скрыть дополнительные результаты","search-more-match-text":"дополнительный результат в этом документе","search-more-matches-text":"дополнительных результата(-ов) в этом документе","search-clear-button-title":"Очистить","search-text-placeholder":"","search-detached-cancel-button-title":"Отменить","search-submit-button-title":"Найти","search-label":"Поиск","toggle-section":"Переключить раздел","toggle-sidebar":"Переключить боковую панель навигации","toggle-dark-mode":"Переключить темный режим","toggle-reader-mode":"Переключить режим чтения","toggle-navigation":"Переключить навигацию","crossref-fig-title":"Рисунок","crossref-tbl-title":"Таблица","crossref-lst-title":"Список","crossref-thm-title":"Теорема","crossref-lem-title":"Лемма","crossref-cor-title":"Следствие","crossref-prp-title":"Утверждение","crossref-cnj-title":"Гипотеза","crossref-def-title":"Определение","crossref-exm-title":"Пример","crossref-exr-title":"Упражнение","crossref-ch-prefix":"Глава","crossref-apx-prefix":"Приложение","crossref-sec-prefix":"Глава","crossref-eq-prefix":"Уравнение","crossref-lof-title":"Список Иллюстраций","crossref-lot-title":"Список Таблиц","crossref-lol-title":"Список Каталогов","environment-proof-title":"Доказательство","environment-remark-title":"Примечание","environment-solution-title":"Решение","listing-page-order-by":"Сортировать по","listing-page-order-by-default":"предварительно выбранный","listing-page-order-by-date-asc":"Самый старый","listing-page-order-by-date-desc":"Новейшие","listing-page-order-by-number-desc":"нисходящий","listing-page-order-by-number-asc":"по возрастанию","listing-page-field-date":"Дата","listing-page-field-title":"Заголовок","listing-page-field-description":"Описание","listing-page-field-author":"Автор","listing-page-field-filename":"Имя файла","listing-page-field-filemodified":"Файл изменен","listing-page-field-subtitle":"Подзаголовок","listing-page-field-readingtime":"Время чтения","listing-page-field-wordcount":"Подсчет слов","listing-page-field-categories":"Категории","listing-page-minutes-compact":"{0} минут","listing-page-category-all":"Все","listing-page-no-matches":"Нет подходящих элементов","listing-page-words":"{0} слов","listing-page-filter":"Фильтр","draft":"Черновик"},"metadata":{"lang":"ru-RU","fig-responsive":false,"quarto-version":"1.5.57","auto-stretch":true,"editor":"visual","title":"Форматы пространственных данных","subtitle":"Геоинформатика и геоинформационные системы. Лекция 2","author":"Балтыжакова Татьяна Игоревна","slideNumber":true,"theme":["default","custom.css"],"footer":"Балтыжакова Т.И. Геоинформатика и геоинформационные системы: лекции","margin":0.1,"width":1800,"height":1000}}},"projectFormats":["html"]}